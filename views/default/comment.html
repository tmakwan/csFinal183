<div class='comment-block' intro='slide'>
  <h4 class='comment-author'>{{author}}</h4>

  <!-- we're using a triple-stache to render the comment body. There
    is a theoretical security risk in that triples insert HTML
    without sanitizing it, so a user could submit a comment with an
    XSS attack hidden in it, which would affect other users.

    In a real-life app, make sure you sanitize on the server
    before sending data to clients! -->
  <div class='comment-text'>{{{ marked(text) }}}</div>
</div>

<style>
  h3, h4 {
    font-family: 'Voltaire';
  }

  h4 {
    margin: 0;
  }
  
  .comment-block {
    position: relative;
    padding: 0 0 0 10em;
    margin: 0 0 1em 0;
  }
  
  .comment-author {
    position: absolute;
    left: 0;
    top: 0;
    width: 9em;
    background-color: #eee;
    padding: 0.5em;
  }
  
  .comment-text {
    position: relative;
    width: 100%;
    height: 100%;
    border-top: 1px solid #eee;
    padding: 0.5em 0.5em 0.5em 1em;
    box-sizing: border-box;
    -moz-box-sizing: border-box;
  }
  
  .comment-text p:last-child {
    margin: 0;
  }
</style>

<script>
  component.exports = {
    data: {
      marked: require( 'marked' )
    },
    
    transitions: {
      slide: require( 'ractive-transitions-slide' )
    }
  };
</script>